<img
  src="../../../assets/images/accommodation-image.png"
  alt="accommodation-image"
  [routerLink]="['/accommodation', accommodation.id]"
/>

<div class="accommodation-info">
  <span class="first-line">
    <h2 [routerLink]="['/accommodation', accommodation.id]">
      {{ accommodation.title }}
    </h2>

    <div *ngIf="!showAcceptanceButtons">
      <p-button
        *ngIf="accommodation.status === undefined"
        icon="pi pi-heart"
        [rounded]="true"
        severity="secondary"
      ></p-button>
      <i
        *ngIf="accommodation.status === AccommodationStatus.ACCEPTED"
        pTooltip="Accommodation is accepted"
        class="pi pi-check-circle"
        style="color: green; font-size: 2rem"
      ></i>
      <i
        *ngIf="accommodation.status === AccommodationStatus.DENIED"
        pTooltip="Accommodation is denied"
        class="pi pi-times-circle"
        style="color: red; font-size: 2rem"
      ></i>
      <i
        *ngIf="accommodation.status === AccommodationStatus.PENDING"
        pTooltip="Accommodation is pending"
        class="pi pi-question-circle"
        style="color: orange; font-size: 2rem"
      ></i>
    </div>

    <div class="acceptance-div" *ngIf="showAcceptanceButtons">
      <i
        (click)="onClick(AccommodationStatus.ACCEPTED)"
        class="pi pi-check-circle"
        style="color: green; font-size: 2.5rem"
      ></i>
      <i
        (click)="onClick(AccommodationStatus.DENIED)"
        class="pi pi-times-circle"
        style="color: red; font-size: 2.5rem"
      ></i>
    </div>
  </span>

  <div class="row">
    <p-rating
      [ngModel]="Math.floor(accommodation.rating)"
      [disabled]="true"
      [cancel]="false"
    />
    <p class="bold">{{ accommodation.rating }}</p>
    <p>{{ accommodation.reviewCount }} ratings</p>
  </div>

  <div class="row">
    <span class="icon-label">
      <i class="pi pi-map-marker"></i>
      <p>{{ accommodation.location }}</p>
    </span>

    <span class="icon-label">
      <i class="pi pi-users"></i>
      <p>
        {{ accommodation.minGuests }} - {{ accommodation.maxGuests }} guests
      </p>
    </span>

    <span class="icon-label">
      <i class="pi pi-wifi"></i>
      <p>Wi-Fi</p>
    </span>

    <p>
      <span *ngIf="accommodation.totalPrice !== 0">
        <span class="bold">€{{ accommodation.totalPrice }} </span>
        EUR total
      </span>
      <span *ngIf="accommodation.totalPrice === 0">
        From
        <span class="bold"> €{{ accommodation.minPrice }} </span>
        <span *ngIf="accommodation.pricingType === 'PER_NIGHT'">/ night</span>
        <span *ngIf="accommodation.pricingType === 'PER_GUEST'"
          >/ guest / night</span
        >
      </span>
    </p>
  </div>
</div>
